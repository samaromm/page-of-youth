(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[4],{541:function(e,t,n){},545:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(54),r=n(17),d=n(98),s=n(7),l=n.n(s),c=n(16),u=n(537),m=n(538),p=n(544),f=n(543),g=n(3),h=n(542),E=n(9),b=n(10),v=n(540),y=n.n(v),T=n(2),O=n(211),w=n(34),j=n(20),S=n(28),k=n(18);function x(){var e=Object(g.a)(["\n  position: absolute;\n  bottom: 1rem;\n  width: 100%;\n  padding: 0 3rem;\n"]);return x=function(){return e},e}function M(){var e=Object(g.a)(["\n  margin: 1rem 0rem;\n  font-size: 2rem;\n  text-align: center;\n  color: #f43f54;\n"]);return M=function(){return e},e}function C(){var e=Object(g.a)(["\n  display: flex;\n  width: 100%;\n  margin-bottom: 2rem;\n  justify-content: space-around;\n"]);return C=function(){return e},e}var D=T.d.div(C()),A=T.d.div(M()),V=T.d.div(x()),q={deleteTodo:k.c},z=Object(r.b)((function(e){var t=e.todos;return{error:t.deleteTodo.error,loading:t.deleteTodo.loading}}),q)((function(e){var t=e.show,n=e.close,a=e.todo,i=e.deleteTodo,r=e.error,d=e.loading;return o.a.createElement(O.a,{opened:t,close:n},o.a.createElement(j.a,{noMargin:!0,size:"h1",color:"white"},"Deleting todo"),o.a.createElement(j.a,{bold:!0,size:"h4",color:"white"},"Are you sure you want to delete this todo?"),o.a.createElement(A,null,a.title),o.a.createElement(D,null,o.a.createElement(w.a,{contain:!0,onClick:Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(a.id);case 2:window.location.reload(!1);case 3:case"end":return e.stop()}}),e)}))),disabled:d,loading:d?"Deleting...":null},"Delete"),o.a.createElement(w.a,{color:"main",contain:!0,onClick:n},"Cancel")),o.a.createElement(V,null,o.a.createElement(S.a,{error:!0,show:r},r)))})),F=(n(541),n(21)),N=n(23);function J(){var e=Object(g.a)(["\n  position: absolute;\n  bottom: 0rem;\n  width: 100%;\n  padding: 0 3rem;\n"]);return J=function(){return e},e}function G(){var e=Object(g.a)(["\n  display: flex;\n  width: 100%;\n  margin-bottom: 2rem;\n  justify-content: space-around;\n"]);return G=function(){return e},e}var I=Object(h.c)(y.a),B=T.d.div(G()),W=T.d.div(J()),P=E.object().shape({title:E.string().required("The todo is required.").min(4,"Too short.")}),H=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).editEvent=function(e){var t=e.event;a.setState({isEditing:!0,editTodo:t},a.controlModal())},a.toggleAddModal=function(e){var t=e.start,n=e.end,o=t.toString(),i=n.toString();a.setState({startVal:o,endVal:i,isOpened:!a.state.isOpened})},a.controlModal=function(){a.setState({isOpened:!a.state.isOpened,isEditing:!1,isDeleting:!1})},a.close=function(){a.setState({isOpened:!1,isEditing:!1,isDeleting:!1})},a.openModal=function(){return o.a.createElement(O.a,{opened:a.state.isOpened,close:function(){return a.controlModal()}},o.a.createElement(j.a,{noMargin:!0,size:"h1",color:"white"},a.state.isEditing?"Edit your todo":"Add your new todo"),o.a.createElement(j.a,{bold:!0,size:"h4",color:"white"},a.state.isEditing?"Edit your todo and tap edit":"Type your todo and press add"),o.a.createElement(b.c,{initialValues:{title:a.state.isEditing?a.state.editTodo.title:"",start:a.state.isEditing?a.state.editTodo.start:a.state.startVal,end:a.state.isEditing?a.state.editTodo.end:a.state.endVal,diary:a.state.isEditing?a.state.editTodo.diary:"",complete:a.state.isEditing?a.state.editTodo.complete:"false"},validationSchema:P,onSubmit:function(){var e=Object(c.a)(l.a.mark((function e(t,n){var o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.setSubmitting,i=n.resetForm,!a.state.isEditing){e.next=7;break}return e.next=4,a.props.editTodoAction(a.state.editTodo.id,t);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,a.props.addTodo(t);case 9:e.t0=e.sent;case 10:e.t0&&a.setState({isOpened:!1,isEditing:!1}),o(!1),i();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.isValid,i=e.resetForm;return o.a.createElement(N.c,null,o.a.createElement(b.a,{type:"text",name:"title",placeholder:"Write your todo...",component:F.a,className:"fieldMargin"}),o.a.createElement(b.a,{type:"textarea",name:"diary",placeholder:"(Optional) Enter your diary for today...",component:F.a,style:{height:"100px"},className:"fieldMargin"}),o.a.createElement(b.a,{type:"checkbox",name:"complete",id:"complete",value:"complete",component:F.a,className:"radioBut",defaultChecked:a.state.isEditing?a.state.editTodo.complete:"false"}),o.a.createElement("label",{for:"complete"},"Completed"),o.a.createElement(B,null,o.a.createElement(w.a,{contain:!0,color:"main",type:"submit",disabled:!n||t,loading:a.props.loading?"Saving...":null},a.state.isEditing?"Edit todo":"Add todo"),o.a.createElement(w.a,{color:"main",contain:!0,onClick:function(){a.setState({isDeleting:!0}),i()},className:a.state.isEditing?"":"hideButton",type:"submit"},"Delete"),o.a.createElement(w.a,{color:"main",contain:!0,onClick:function(){a.controlModal(),i()}},"Cancel")),o.a.createElement(W,null,o.a.createElement(S.a,{error:!0,show:a.props.error},a.props.error)))})))},a.state={isEditing:!1,isDeleting:!1,editTodo:{},isOpened:!1,startVal:"Tue July 21 2020 19:30:00 GMT+0300 (Arabian Standard Time)",endVal:"Wed July 22 2020 19:30:00 GMT+0300 (Arabian Standard Time)"},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{selectable:!0,localizer:I,events:this.props.events,defaultView:h.b.Month,views:["month","agenda"],scrollToTime:new Date(1970,1,1,6),defaultDate:y()().toDate(),onSelectEvent:function(t){return e.editEvent({event:t})},onSelectSlot:this.toggleAddModal,style:{height:"100vh",margin:"20px",width:"100vh"},eventPropGetter:function(e,t,n,a){var o={backgroundColor:"#F43F54"};return e.complete&&(o.backgroundColor="#1ec91e"),{className:"",style:o}}}),this.state.isOpened?this.openModal():"",o.a.createElement(z,{todo:this.state.editTodo,show:this.state.isDeleting,close:function(){return e.close()}}))}}]),n}(o.a.Component),K={addTodo:k.a,editTodoAction:k.f},L=Object(r.b)((function(e){var t=e.todos;return{loading:t.loading,error:t.error}}),K)(H);t.default=Object(i.d)(Object(r.b)((function(e){var t=e.firebase,n=e.firestore;return{userId:t.auth.uid,todos:n.data.todos,requesting:n.status.requesting,requested:n.status.requested}}),{}),Object(d.firestoreConnect)((function(e){return["todos/".concat(e.userId)]})))((function(e){var t=e.todos,n=e.requested,a=e.userId,i=[];return!t||!t[a]&&n["todos/".concat(a)]||0===t[a].todos.length||t[a].todos.map((function(e){return i.push({title:e.title,id:e.id,start:e.start,end:e.end,diary:e.diary,complete:e.complete})})),o.a.createElement(L,{events:i})}))}}]);
//# sourceMappingURL=4.91072599.chunk.js.map